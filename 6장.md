# ORM (Object Relational Mapping)
![image](https://github.com/SeungGwan123/SpringBoot/assets/123438749/fbbfd442-0d83-4395-a859-c206d2dbaae0)

<pre>
RDB(Relational Database)와 application 클래스 사이에서 매핑해주는 역할
  장점 : 
</pre>
![image](https://github.com/SeungGwan123/SpringBoot/assets/123438749/62fc6707-684d-4acf-9fed-8577caf2ae43)
![image](https://github.com/SeungGwan123/SpringBoot/assets/123438749/32b6038d-fccb-48e8-ac04-f97c5c4ac2d8)

# JPA (Java Persistence API)
<pre>
JPA는 자바 진영의 ORM기술 표준으로 채택된 인터페이스의 모음입니다.
  JPA기반의 구현체는 대표적으로 세가지가 있습니다.
  - 하이버네이트 (Hibernate)**가장많이씀**
  - 이클립스 링크(EclipseLink)
  - 데이터 뉴클리어스(DataNucleus)
</pre>
![image](https://github.com/SeungGwan123/SpringBoot/assets/123438749/8bcdc3be-f31c-4b3e-b652-2a81d3d9681e)
# 하이버네이트
<pre>
Spring Data JPA는 CRUD 처리에 필요한 인터페이스를 제공하며, 
  하이버네이트의 EntityManager를 직접 다루지 않고 Repository를 정의해 사용함으로써 
  스프링이 적합한 쿼리를 동적으로 생성하는 방식으로 데이터베이스를 조작합니다.
</pre>
![image](https://github.com/SeungGwan123/SpringBoot/assets/123438749/7bbb5fab-d305-44a0-9c3b-0cc859f35ec2)
# 영속성 컨텍스트(**중요**)
![image](https://github.com/SeungGwan123/SpringBoot/assets/123438749/e01fd337-6bbf-4522-9e8e-df198ba2cb79)

<pre>
영속성 컨텍스트(Persistence Context)
  기능 - 애플리케이션과 데이터베이스 사이에서 Entity와 Record의 괴리를 해소하는 기능과 객체를 보관하는 기능을 수행합니다.
  영속 객체(Persistence Object) - Entity객체가 영속성 컨텍스트에 들어와 JPA의 관리 대상이 되는 시점부터의 해당 객체
  생명주기 - 세션단위
엔티티 매니저(Entity Manager)
  기능 - Entity를 관리하는 객체
  생명주기 : 
      - 비영속(New) : 영속성 컨텍스트에 추가되지 않은 엔티티 객체의 상태를 의미합니다.
      - 영속(Managed) : 영속성 컨텍스트에 의해 엔티티 객체가 관리되는 상태입니다.
      - 준영속(Detached) : 영속성 컨텍스트에 의해 관리되던 엔티티 객체가 컨텍스트와 분리된 상태입니다.
      - 삭제(Removed) : 데이터베이스에서 레코드를 삭제하기 위해 영속성 컨텍스트에 삭제 요청을 한 상태입니다.
</pre>
![image](https://github.com/SeungGwan123/SpringBoot/assets/123438749/a8dcce13-425b-4597-a1be-92de97663378)
<pre>
  이 사진이 영속성 컨텍스트의 예시를 들어볼 수 있을 것 같습니다.
  이건 적절한 예시는 아니지만 그래도 느낌을 알 수 있는 코드 같습니다.
  여기 코드는 총 2가지 종류가 있는데 1. 영속성 컨텍스트 이용 2. DB 직접 만지기
  1.영속성 컨텍스트 이용
    line 126,127에서 user.set~~~을 하게 되면 영속성 컨텍스트에 update가 됩니다.
    그리고 return을 하게 되면 DB에 영속성 컨텍스트에 update되었던 값들이 반영이 됩니다.
    따로 save를 해주지 않더라도 영속성 컨텍스트 덕분에 저장이 되는 것입니다.
  2. DB 직접 만지기
    line 128번은 영속성 컨텍스트를 이용하지 않고 바로 DB에서 update를 시켜주는 방법입니다.
참고 링크 : https://suhwan.dev/2019/02/24/jpa-vs-hibernate-vs-spring-data-jpa/
</pre>
![image](https://github.com/SeungGwan123/SpringBoot/assets/123438749/d06060ef-8547-4ced-bbf3-ab4a3641d3f4)

